{"version":3,"sources":["firebase.js","pages/ReceptionPage.js","components/OrderCard.js","utils/generatePDF.js","pages/OrdersPage.js","App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","ReceptionPage","formData","setFormData","useState","clientName","phone","city","equipment","type","customType","name","serial","date","technician","status","notes","handleEquipmentChange","index","field","value","updated","_objectSpread","handleChange","e","target","React","createElement","className","onSubmit","async","preventDefault","orderWithId","id","uuidv4","createdAt","Date","now","clientPhone","setDoc","doc","alert","error","console","onChange","required","rows","map","item","key","placeholder","onClick","splice","handleRemoveEquipment","addEquipment","OrderCard","_ref","order","onUpdate","onDelete","equipmentState","setEquipmentState","editingIndex","setEditingIndex","updateEquipmentField","repairCost","repairDetails","toLocaleString","_order$equipment","_doc$autoTable","_doc$autoTable$previo","jsPDF","setFontSize","text","concat","equipmentData","length","autoTable","head","body","startY","notesY","previous","finalY","save","generatePDF","handleDeleteWithPIN","prompt","eq","Fragment","checked","warranty","htmlFor","updatedOrder","handleSave","statusBadge","startEditing","reduce","sum","Number","OrdersPage","orders","setOrders","filtered","setFiltered","filters","setFilters","equipmentType","sort","applyFilters","data","applied","arguments","undefined","result","filter","o","some","filteredEquip","filteredEquipment","Boolean","_order$clientPhone","toLowerCase","includes","_eq$serial","a","b","dateA","dateB","useEffect","getDocs","collection","docs","fetchOrders","handleUpdate","updatedOrders","handleFilterChange","prev","equipmentTypes","Array","from","Set","flatMap","i","handleResetFilters","reset","deleteDoc","handleDelete","App","Router","Link","to","Routes","Route","path","element","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.f0ed6c1d.chunk.js","sourcesContent":["// src/firebase.js\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBhvAhySTY9NE10_oenVOYxDYx20pafY3w\",\r\n  authDomain: \"servicecenter-tetser.firebaseapp.com\",\r\n  projectId: \"servicecenter-tetser\",\r\n  storageBucket: \"servicecenter-tetser.firebasestorage.app\",\r\n  messagingSenderId: \"177149149059\",\r\n  appId: \"1:177149149059:web:d9138e71616742b30640b6\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n","import React, { useState } from 'react';\r\nimport { db } from '../firebase'; // путь зависит от расположения firebase.js\r\nimport { setDoc, doc } from 'firebase/firestore';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nconst ReceptionPage = () => {\r\n  const [formData, setFormData] = useState({\r\n    clientName: '',\r\n    phone: '',\r\n    city: 'Астана',\r\n    equipment: [{ type: '', customType: '', name: '', serial: '' }],\r\n    date: '',\r\n    technician: '',\r\n    status: 'Диагностика',\r\n    notes: '',\r\n  });\r\n\r\n  const handleEquipmentChange = (index, field, value) => {\r\n    const updated = [...formData.equipment];\r\n    updated[index][field] = value;\r\n    setFormData({ ...formData, equipment: updated });\r\n  };\r\n\r\n  const handleRemoveEquipment = (index) => {\r\n    const updated = [...formData.equipment];\r\n    updated.splice(index, 1);\r\n    setFormData({ ...formData, equipment: updated });\r\n  };\r\n\r\n  const addEquipment = () => {\r\n    setFormData({\r\n      ...formData,\r\n      equipment: [...formData.equipment, { type: '', customType: '', name: '', serial: '' }],\r\n    });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  const orderWithId = {\r\n    ...formData,\r\n    id: uuidv4(),\r\n    createdAt: Date.now(), // 🕒 текущая дата\r\n    clientPhone: formData.phone, // 📞 правильное поле\r\n  };\r\n\r\n  try {\r\n    await setDoc(doc(db, 'orders', orderWithId.id), orderWithId);\r\n    alert('Заявка сохранена!');\r\n  } catch (error) {\r\n    console.error('Ошибка при сохранении заявки:', error);\r\n    alert('Ошибка при сохранении!');\r\n    return;\r\n  }\r\n\r\n  // Очистка формы\r\n  setFormData({\r\n    clientName: '',\r\n    phone: '',\r\n    city: 'Астана',\r\n    equipment: [{ type: '', customType: '', name: '', serial: '' }],\r\n    date: '',\r\n    technician: '',\r\n    status: 'Диагностика',\r\n    notes: '',\r\n  });\r\n};\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"card shadow\">\r\n        <div className=\"card-header bg-primary text-white\">\r\n          <h4 className=\"mb-0\">📋 Приём оборудования</h4>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row g-3\">\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Имя клиента</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"clientName\"\r\n                  className=\"form-control\"\r\n                  value={formData.clientName}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Телефон</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  className=\"form-control\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Город</label>\r\n                <select\r\n                  name=\"city\"\r\n                  className=\"form-select\"\r\n                  value={formData.city}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option>Астана</option>\r\n                  <option>Алматы</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Дата приёма</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  className=\"form-control\"\r\n                  value={formData.date}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Имя техника</label>\r\n                  <select\r\n                    className=\"form-select mb-3\"\r\n                    name=\"technician\"\r\n                    value={formData.technician}\r\n                    onChange={handleChange}\r\n                    required\r\n                  >\r\n                    <option value=\"\">Выберите техника</option>\r\n                    <option value=\"Мади\">Мади</option>\r\n                    <option value=\"Ермахан\">Ермахан</option>\r\n                  </select>\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <label className=\"form-label\">Заметки</label>\r\n                <textarea\r\n                  name=\"notes\"\r\n                  className=\"form-control\"\r\n                  rows=\"3\"\r\n                  value={formData.notes}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n\r\n              <hr className=\"my-4\" />\r\n\r\n              <div className=\"col-12\">\r\n                <h5 className=\"mb-3\">🛠 Оборудование</h5>\r\n\r\n                {formData.equipment.map((item, index) => (\r\n                  <div key={index} className=\"border p-2 mb-2 rounded\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <label>Тип оборудования</label>\r\n                        <select\r\n                          className=\"form-control\"\r\n                          value={item.type}\r\n                          onChange={(e) =>\r\n                            handleEquipmentChange(index, 'type', e.target.value)\r\n                          }\r\n                        >\r\n                          <option value=\"\">Выберите...</option>\r\n                          <option value=\"Моноблок\">Моноблок</option>\r\n                          <option value=\"Сканер ШК\">Сканер ШК</option>\r\n                          <option value=\"Принтер Ч\">Принтер Ч</option>\r\n                          <option value=\"Принтер Э\">Принтер Э</option>\r\n                          <option value=\"Электронные весы\">Электронные весы</option>\r\n                          <option value=\"Другое\">Другое</option>\r\n                        </select>\r\n                        {item.type === 'Другое' && (\r\n                          <input\r\n                            type=\"text\"\r\n                            className=\"form-control mt-2\"\r\n                            placeholder=\"Укажите тип\"\r\n                            value={item.customType}\r\n                            onChange={(e) =>\r\n                              handleEquipmentChange(index, 'customType', e.target.value)\r\n                            }\r\n                          />\r\n                        )}\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <label>Название</label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          value={item.name}\r\n                          onChange={(e) =>\r\n                            handleEquipmentChange(index, 'name', e.target.value)\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <label>Серийный номер</label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          value={item.serial}\r\n                          onChange={(e) =>\r\n                            handleEquipmentChange(index, 'serial', e.target.value)\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-1 d-flex align-items-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-outline-danger btn-sm\"\r\n                          onClick={() => handleRemoveEquipment(index)}\r\n                        >\r\n                          ✕\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary\"\r\n                  onClick={addEquipment}\r\n                >\r\n                  + Добавить оборудование\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"col-12 mt-4\">\r\n                <button type=\"submit\" className=\"btn btn-success w-100\">\r\n                  💾 Сохранить заявку\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceptionPage;\r\n","import React, { useState } from 'react';\r\nimport { generatePDF } from '../utils/generatePDF';\r\n\r\nconst statusBadge = (status) => {\r\n  switch (status) {\r\n    case 'Диагностика':\r\n      return <span className=\"badge bg-secondary\">Диагностика</span>;\r\n    case 'Ремонт':\r\n      return <span className=\"badge bg-warning text-dark\">Ремонт</span>;\r\n    case 'Готово':\r\n      return <span className=\"badge bg-success\">Готово</span>;\r\n    default:\r\n      return <span className=\"badge bg-light text-dark\">Неизвестно</span>;\r\n  }\r\n};\r\n\r\nconst OrderCard = ({ order, onUpdate, onDelete }) => {\r\n  const [equipmentState, setEquipmentState] = useState(order.equipment);\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n\r\n  const startEditing = (index) => {\r\n    setEquipmentState(order.equipment);\r\n    setEditingIndex(index);\r\n  };\r\n\r\n  const updateEquipmentField = (index, field, value) => {\r\n    const updated = [...equipmentState];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n\r\n    if (field === 'warranty' && value) {\r\n      updated[index].repairCost = '';\r\n      updated[index].repairDetails = '';\r\n    }\r\n\r\n    setEquipmentState(updated);\r\n  };\r\n\r\n  const handleSave = (index) => {\r\n    const updatedOrder = {\r\n      ...order,\r\n      equipment: equipmentState,\r\n    };\r\n    onUpdate(updatedOrder);\r\n    setEditingIndex(null);\r\n  };\r\n\r\n  const handleDeleteWithPIN = () => {\r\n    const pin = prompt('Введите PIN-код для удаления:');\r\n    if (pin === '0000') {\r\n      onDelete();\r\n    } else {\r\n      alert('Неверный PIN-код. Удаление отменено.');\r\n    }\r\n  };\r\n\r\n  const getTotalCost = () =>\r\n    order.equipment.reduce((sum, eq) => {\r\n      if (eq.status === 'Готово' && !eq.warranty) {\r\n        return sum + Number(eq.repairCost || 0);\r\n      }\r\n      return sum;\r\n    }, 0);\r\n\r\n  return (\r\n    <div className=\"card shadow-sm mb-4 border-0\">\r\n      <div className=\"card-body\">\r\n        <div className=\"d-flex justify-content-between align-items-start\">\r\n          <div>\r\n  <h5 className=\"mb-1\">\r\n    <i className=\"bi bi-person-fill me-2\"></i>{order.clientName}\r\n  </h5>\r\n  \r\n  {order.clientPhone && (\r\n    <p className=\"mb-1 text-muted\">\r\n      <i className=\"bi bi-telephone me-1\"></i>{order.clientPhone}\r\n    </p>\r\n  )}\r\n\r\n  {order.city && (\r\n    <p className=\"mb-1 text-muted\">\r\n      <i className=\"bi bi-geo-alt me-1\"></i>{order.city}\r\n    </p>\r\n  )}\r\n\r\n  {order.technician && (\r\n    <p className=\"mb-1 text-muted\">\r\n      <i className=\"bi bi-person-badge me-1\"></i>Техник: {order.technician}\r\n    </p>\r\n  )}\r\n\r\n  <small className=\"text-muted\">\r\n    <i className=\"bi bi-clock me-1\"></i>\r\n    {order.createdAt\r\n      ? new Date(order.createdAt).toLocaleString('ru-RU')\r\n      : 'Дата не указана'}\r\n  </small>\r\n</div>\r\n\r\n\r\n          <div className=\"d-flex flex-column align-items-end gap-1\">\r\n            <button className=\"btn btn-sm btn-outline-success\" onClick={() => generatePDF(order)}>\r\n              <i className=\"bi bi-download me-1\"></i>Скачать АВР\r\n            </button>\r\n            <button className=\"btn btn-sm btn-outline-danger\" onClick={handleDeleteWithPIN}>\r\n              <i className=\"bi bi-trash me-1\"></i>Удалить\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <h6 className=\"mb-3\">\r\n          <i className=\"bi bi-tools me-2\"></i>Оборудование\r\n        </h6>\r\n\r\n        {order.equipment.map((eq, index) => (\r\n          <div key={index} className=\"border rounded p-3 mb-3 bg-light-subtle\">\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div>\r\n                <div><strong>Тип:</strong> {eq.customType || eq.type}</div>\r\n                <div><strong>Серийный:</strong> {eq.serial}</div>\r\n              </div>\r\n\r\n              <div className=\"text-end\">\r\n                {editingIndex === index ? (\r\n                  <>\r\n                    <select\r\n                      className=\"form-select form-select-sm mb-2\"\r\n                      value={equipmentState[index].status}\r\n                      onChange={(e) => updateEquipmentField(index, 'status', e.target.value)}\r\n                    >\r\n                      <option value=\"Диагностика\">Диагностика</option>\r\n                      <option value=\"Ремонт\">Ремонт</option>\r\n                      <option value=\"Готово\">Готово</option>\r\n                    </select>\r\n\r\n                    {equipmentState[index].status === 'Готово' && (\r\n                      <>\r\n                        <div className=\"form-check mb-2\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            className=\"form-check-input\"\r\n                            id={`warranty-${index}`}\r\n                            checked={equipmentState[index].warranty || false}\r\n                            onChange={(e) =>\r\n                              updateEquipmentField(index, 'warranty', e.target.checked)\r\n                            }\r\n                          />\r\n                          <label htmlFor={`warranty-${index}`} className=\"form-check-label\">\r\n                            Гарантийный ремонт\r\n                          </label>\r\n                        </div>\r\n\r\n                        {!equipmentState[index].warranty && (\r\n                          <>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control form-control-sm mb-1\"\r\n                              placeholder=\"Услуга\"\r\n                              value={equipmentState[index].repairDetails || ''}\r\n                              onChange={(e) =>\r\n                                updateEquipmentField(index, 'repairDetails', e.target.value)\r\n                              }\r\n                            />\r\n                            <input\r\n                              type=\"number\"\r\n                              className=\"form-control form-control-sm mb-2\"\r\n                              placeholder=\"Сумма\"\r\n                              value={equipmentState[index].repairCost || ''}\r\n                              onChange={(e) =>\r\n                                updateEquipmentField(index, 'repairCost', e.target.value)\r\n                              }\r\n                            />\r\n                          </>\r\n                        )}\r\n                      </>\r\n                    )}\r\n\r\n                    <div className=\"d-flex gap-2 justify-content-end\">\r\n                      <button className=\"btn btn-sm btn-success\" onClick={() => handleSave(index)}>\r\n                        <i className=\"bi bi-check-circle\"></i>\r\n                      </button>\r\n                      <button className=\"btn btn-sm btn-secondary\" onClick={() => setEditingIndex(null)}>\r\n                        <i className=\"bi bi-x-circle\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"mb-1\">{statusBadge(eq.status)}</div>\r\n                    {eq.status === 'Готово' && (\r\n                      <>\r\n                        <div><strong>Услуга:</strong> {eq.repairDetails || '—'}</div>\r\n                        <div>\r\n                          <strong>Стоимость:</strong>{' '}\r\n                          {eq.warranty ? 'Гарантия' : `${eq.repairCost || 0} ₸`}\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    <button\r\n                      className=\"btn btn-sm btn-outline-primary mt-2\"\r\n                      onClick={() => startEditing(index)}\r\n                    >\r\n                      <i className=\"bi bi-pencil\"></i>\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"text-end mt-2\">\r\n          <strong>Итого: {getTotalCost()} ₸</strong>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderCard;\r\n","// src/utils/generatePDF.js\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable'; \n\nexport function generatePDF(order) {\n  const doc = new jsPDF();\n\n  doc.setFontSize(16);\n  doc.text('Акт выполненных работ', 14, 20);\n\n  doc.setFontSize(12);\n  doc.text(`Клиент: ${order.clientName || '-'}`, 14, 30);\n  doc.text(`Телефон: ${order.phone || '-'}`, 14, 36);\n  doc.text(`Город: ${order.city || '-'}`, 14, 42);\n  doc.text(`Дата: ${order.date || '-'}`, 14, 48);\n  doc.text(`Техник: ${order.technician || '-'}`, 14, 54);\n  doc.text(`Статус: ${order.status || '-'}`, 14, 60);\n\n  const equipmentData = order.equipment?.map((item, index) => [\n    index + 1,\n    item.type || '',\n    item.name || '',\n    item.serial || '',\n  ]) || [];\n\n  if (equipmentData.length > 0) {\n    doc.autoTable({\n      head: [['#', 'Тип', 'Название', 'Серийный номер']],\n      body: equipmentData,\n      startY: 70,\n    });\n  }\n\n  const notesY = (doc.autoTable?.previous?.finalY || 80) + 10;\n  doc.text(`Заметки: ${order.notes || '-'}`, 14, notesY);\n\n  doc.save(`АВР_${order.clientName || 'client'}.pdf`);\n}\n","import React, { useEffect, useState } from 'react';\r\nimport OrderCard from '../components/OrderCard';\r\nimport { collection, getDocs, setDoc, doc, deleteDoc } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nconst OrdersPage = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    city: '',\r\n    equipmentType: '',\r\n    technician: '',\r\n    status: '',\r\n    phone: '',\r\n    serial: '',\r\n    sort: 'desc',\r\n  });\r\n\r\n  const applyFilters = (data, applied = filters) => {\r\n    let result = [...data];\r\n\r\n    if (applied.city) {\r\n      result = result.filter((o) => o.city === applied.city);\r\n    }\r\n\r\n    if (applied.technician) {\r\n      result = result.filter((o) => o.technician === applied.technician);\r\n    }\r\n\r\n    if (applied.equipmentType) {\r\n      result = result.filter((o) =>\r\n        o.equipment.some(\r\n          (eq) =>\r\n            eq.type === applied.equipmentType ||\r\n            eq.customType === applied.equipmentType\r\n        )\r\n      );\r\n    }\r\n\r\n    if (applied.status) {\r\n      result = result\r\n        .map((order) => {\r\n          const filteredEquip = order.equipment.filter(\r\n            (eq) => eq.status === applied.status\r\n          );\r\n          return filteredEquip.length > 0\r\n            ? { ...order, filteredEquipment: filteredEquip }\r\n            : null;\r\n        })\r\n        .filter(Boolean);\r\n    }\r\n\r\n    if (applied.phone) {\r\n      result = result.filter((order) =>\r\n        order.clientPhone?.toLowerCase().includes(applied.phone.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (applied.serial) {\r\n      result = result.filter((order) =>\r\n        order.equipment.some((eq) =>\r\n          eq.serial?.toLowerCase().includes(applied.serial.toLowerCase())\r\n        )\r\n      );\r\n    }\r\n\r\n    result.sort((a, b) => {\r\n      const dateA = new Date(a.createdAt || 0);\r\n      const dateB = new Date(b.createdAt || 0);\r\n      return applied.sort === 'asc' ? dateA - dateB : dateB - dateA;\r\n    });\r\n\r\n    setFiltered(result);\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const snapshot = await getDocs(collection(db, 'orders'));\r\n      const data = snapshot.docs.map(doc => ({ ...doc.data(), id: doc.id }));\r\n\r\n      setOrders(data);\r\n      applyFilters(data);\r\n    } catch (error) {\r\n      console.error('Ошибка загрузки заявок:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const handleUpdate = async (updatedOrder) => {\r\n    try {\r\n      await setDoc(doc(db, 'orders', updatedOrder.id), updatedOrder);\r\n      const updatedOrders = orders.map((o) =>\r\n        o.id === updatedOrder.id ? updatedOrder : o\r\n      );\r\n      setOrders(updatedOrders);\r\n      applyFilters(updatedOrders, filters);\r\n    } catch (error) {\r\n      console.error('Ошибка при обновлении заказа:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteDoc(doc(db, 'orders', id));\r\n      const updated = orders.filter(order => order.id !== id);\r\n      setOrders(updated);\r\n      applyFilters(updated, filters);\r\n    } catch (error) {\r\n      console.error('Ошибка при удалении заявки:', error);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const equipmentTypes = Array.from(\r\n    new Set(\r\n      orders.flatMap((o) =>\r\n        o.equipment.map((eq) => eq.customType || eq.type).filter(Boolean)\r\n      )\r\n    )\r\n  );\r\n\r\n  const handleResetFilters = () => {\r\n  const reset = {\r\n    city: '',\r\n    equipmentType: '',\r\n    technician: '',\r\n    status: '',\r\n    phone: '',\r\n    serial: '',\r\n    sort: 'desc',\r\n  };\r\n  setFilters(reset);\r\n  applyFilters(orders, reset);\r\n};\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n        <h4>📦 Список заявок</h4>\r\n        <span className=\"badge bg-primary fs-6\">\r\n          Кол-во заявок: {filtered.length}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"card p-3 mb-4 shadow-sm\">\r\n        <h5>Фильтрация заявок</h5>\r\n        <div className=\"row g-3 mt-2\">\r\n          <div className=\"col-md-3\">\r\n            <label>Город</label>\r\n            <select name=\"city\" className=\"form-select\" value={filters.city} onChange={handleFilterChange}>\r\n              <option value=\"\">Все города</option>\r\n              <option value=\"Астана\">Астана</option>\r\n              <option value=\"Алматы\">Алматы</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Тип оборудования</label>\r\n            <select name=\"equipmentType\" className=\"form-select\" value={filters.equipmentType} onChange={handleFilterChange}>\r\n              <option value=\"\">Все типы</option>\r\n              {equipmentTypes.map((type, i) => (\r\n                <option key={i} value={type}>{type}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Техник</label>\r\n            <select name=\"technician\" className=\"form-select\" value={filters.technician} onChange={handleFilterChange}>\r\n              <option value=\"\">Все техники</option>\r\n              <option value=\"Ермахан\">Ермахан</option>\r\n              <option value=\"Мади\">Мади</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Статус ремонта</label>\r\n            <select name=\"status\" className=\"form-select\" value={filters.status} onChange={handleFilterChange}>\r\n              <option value=\"\">Все статусы</option>\r\n              <option value=\"Диагностика\">Диагностика</option>\r\n              <option value=\"Ремонт\">Ремонт</option>\r\n              <option value=\"Готово\">Готово</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Номер телефона</label>\r\n            <input type=\"text\" name=\"phone\" className=\"form-control\" placeholder=\"Часть номера клиента\" value={filters.phone} onChange={handleFilterChange} />\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Серийный номер</label>\r\n            <input type=\"text\" name=\"serial\" className=\"form-control\" placeholder=\"Часть серийника\" value={filters.serial} onChange={handleFilterChange} />\r\n          </div>\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Сортировка по дате</label>\r\n            <select name=\"sort\" className=\"form-select\" value={filters.sort} onChange={handleFilterChange}>\r\n              <option value=\"desc\">Сначала новые</option>\r\n              <option value=\"asc\">Сначала старые</option>\r\n            </select>\r\n          </div>\r\n\r\n<div className=\"col-md-3 d-flex align-items-end gap-2\">\r\n  <button className=\"btn btn-primary w-50\" onClick={() => applyFilters(orders, filters)}>\r\n    🔍 Поиск\r\n  </button>\r\n  <button className=\"btn btn-outline-secondary w-50\" onClick={handleResetFilters}>\r\n    ↩️ Сброс\r\n  </button>\r\n</div>\r\n\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      {filtered.length > 0 ? (\r\n        filtered.map((order) => (\r\n          <OrderCard\r\n            key={order.id}\r\n            order={order}\r\n            onUpdate={handleUpdate}\r\n            onDelete={() => handleDelete(order.id)}\r\n          />\r\n        ))\r\n      ) : (\r\n        <div className=\"alert alert-info\">Заявки не найдены.</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\r\nimport ReceptionPage from './pages/ReceptionPage';\r\nimport OrdersPage from './pages/OrdersPage';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"container mt-3\">\r\n        <nav className=\"mb-4\">\r\n          <Link className=\"btn btn-primary me-2\" to=\"/\">Приём оборудования</Link>\r\n          <Link className=\"btn btn-secondary\" to=\"/orders\">Список заявок</Link>\r\n        </nav>\r\n        <Routes>\r\n          <Route path=\"/\" element={<ReceptionPage />} />\r\n          <Route path=\"/orders\" element={<OrdersPage />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<App />);\r\n"],"sourceRoot":""}